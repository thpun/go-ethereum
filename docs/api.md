# API
The ABE API works in both JSON-RPC and JavaScript console.
Encryption of message follows KEM.

## GPSW06
To use this namespace, run `geth` with flag `--rpcapi "gpsw06"`
#### gpsw06_setup
Generate public key and master key given the universe of attributes.
##### Parameters
1. `List<String>` - List of attributes in the universe.
##### Returns
`Object` - 
* `msk` - `String`: Master key
* `pk` - `String`: Corresponding public key
##### Example
```bash
curl -X POST \
  http://127.0.0.1:8545 \
  -H 'Content-Type: application/json' \
  -d '{
	"jsonrpc": "2.0",
	"method": "gpsw06_setup",
	"params": [
		["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"]
	],
	"id": 67
}'
```
---
#### gpsw06_encrypt
Encrypt an arbitrary message with selected attributes in the universe and the public key.
##### Parameters
1. `String` - Message to be encrypted, Hex-encoded.
2. `List<Number>` - List of indexes of the selected attributes in the universe.
3. `String` - Public key from `gpsw06_setup`
##### Returns
`String` - Ciphertext
##### Example
```bash
curl -X POST \
  http://192.168.7.106:8545 \
  -H 'Content-Type: application/json' \
  -d '{
	"jsonrpc": "2.0",
	"method": "gpsw06_encrypt",
	"params": [
		"0x4d7920636f646520776f726b7321",
		[0, 1, 3, 5, 6, 9],
		"0x65794a306558426c496a6f696348566962476c6a496977696443493657794a4352555a4e544531775a6a637a633056745a56497665554e486157593463585a695a5468434f45567956325a4261564a614d6e644c576b4a6865566c774e6a426157444a77655763764f57465856475250656e5a574d57314d624870584d55525855557056526b3559646b464c5a55465861455a454e7a525065486335616a68324e456c72536a4a46526a52424f4430694c434a4a5447785959544e615a573178646a5a4563564a4d4f5338345657784d6432467a535739484e6e686154304578576b74324e44597a5257466b4e69394c62305972546e517955554a304c3056474d3152434f474659654646494e57553464316c7661486c4d59573177613055344b304a726345315764315a3552566f31595539334e7a63334d32633456554e36575430694c434a4557564634646c526f4e574e4e4d53743554446c536448563151554a704c33564b5457646a6247744f4f47356155314a6e524864744c334251526b4a465a6a4a4463586843566e6730536d677a63467035535756514c334e3662564d32627a593564325a515245314c646b466f6233593155304a4262314977556d6c4f637a685756334e5653584a764f557735565430694c434a44556b6b35593035766353747253474978626c70474d327331566e41784d46687261444256546b68744d48686e646d56475557396a527a4a5962693932567a5a724b335a356548643361553133563274494d577447556a6848645739464d6e64444d6d68594e6d70784d45464262575a765648526e4d45467a4e30553161304e77633352334d6a423261465275617a30694c434a434d6a517a526b356a526e524f59337043595531484f575642516d31454d486c3653584e53515668796455745a526a46704e6c525363334e55655446794d47647a5432315161314e4d5579746e54556c484c7a557854486c725555314f633256456257466a62437444566b6442546b6734616d4d344e6b747964573035636d745357444e594d315236636e52594f4430694c434a494f556c74597a424365485a444e6d6c616445394f545852435748646e56587057596d644f5448526c537a524752585677543074426332785a4e54424a61555a4653446c6a626e64534d6b73725a58677959544a73534556794f45593354324a4a5432567063545a524d454a516555464e5956686b4f544a6a4e6e5177553035715430316a4d6e5273636a5a6e535430694c434a43593264715a4552695a306449536e566b517a52544e5746784d5646444d6c6842646b31564e44685653307731613052614e6c463359555a6b55446848516b4534593246695558633554335178616e4e33616c6332536b52565a306b3556464e4e65565232556a55764d454e6d63446445636e525462565533557a4659567a684d5555464e61484e535953394a617a30694c434a484d7a493554555a30624577794d6c6874636d6850614764314e444e46526d317953456c424d6a59325a44686d4e4849344f456c454e6c4d7851533956654552755a466c6c4d486330534764485758686b516a4a4c57584e76627a4a7355464e3156446833626e55774e45647a566d5648534441794d306732576b3131643278725630343065454655555770734f4430694c434a49574574525755524a5a3164694d6b567061336f3552324e4e55557851636b4e315645466e566a6c7353316451656e557259324a494d306c6e557a4d7661456c4756336f724e464e46633235586247786f6157303154466c4e634578594d6d31595a55397464454a4a61455931656c64344f55684c5a7a557a4f566c31557973314e7a524352545a784f575a58575430694c434a435455784d54576847513039355453746952326f77566a5131566e707152455a7155555668597a6430534531424f576c4357453543596b784754476c5953793834576b7053526e6872576b46724f533878595578304f44463361474579554778575355354c52325a4b566b64315a564e4d557a4e704f474e6c53307472537a64504d6c567451325a74527a52784f4430695853776965534936496b4d7259306c4b5154566952486c74636c4a76617a4a4e635649354d314e7161315a7855575250566a553057465a3056476730576c557a5231706f4b32705153577070636b686c61454e35636e70504e6d4a35636e5a5a4e47493062584e774f545652533056365a454a35526d4d776543397a4e4339485154683165553977626e6772636d524e656d52726448417756336c4c536e707754584976524852695a554655616e6c355231527361545a744e44566f53484976636d5a7762457434626c4675626a426a656e4530566b74744f586b344e314a484b7a46725448687a4e556447546e597957585655545449315a6d5258616c67315a6c466953584a75553356615547394c6354467659324a5952585635576b4d7264586474576e646e5a47357856584d794d54563159334a576455704c556c4a55513268364e54644454306c775a57644f615445305445527263577335546d59795a484230636b6c464d4535435755644f4c305a515a79387856304a424f444a34523342584d56417a575759324d57525265484a53576b493462586c59564746336179394f595734784e5564425658633262557431496e303d"
	],
	"id": 68
}'
```
---
#### gpsw06_keygen
Generate private key with access structure and master key.
##### Parameters
1. `String` - Access structure in JSON-encoded string
2. `String` - Master key
##### Returns
`String` - Private key
##### Example
```bash
curl -X POST \
  http://192.168.7.106:8545 \
  -H 'Content-Type: application/json' \
  -d '{
	"jsonrpc": "2.0",
	"method": "gpsw06_keygen",
	"params": [
		"{\"gate\": 0, \"children\": [{\"gate\": 1, \"children\": [{\"attr\": 0}, {\"attr\": 1}]}, {\"gate\": 1, \"children\": [{\"attr\": 3}, {\"attr\": 4}]}, {\"gate\": 1, \"children\": [{\"attr\": 5}, {\"attr\": 8}]}]}",
		"0x65794a306558426c496a6f696257467a64475679496977696443493657794a4353444a746330395154446857646d354d546c6871566d4e7a6332637763576c684d6a67394969776953574979636e493153446857617a423652303554546d3132516b5a6f526b63354f58423350534973496b4e694e57787254304a534f564a7a57474578533049786144524f5357307251314679597a30694c434a475a6b4e7259305a776357733464466848565735435957316a4d48566c656b38324d55453949697769535735454d475a7753444a4d4c30677a5531424a4e307477556d7836616b646a656e687a50534973496b52714e6d4652637a425456564a5453473954565564744b7a497853475a615a456c504f4430694c434a4964303434554564335655396f646d70445343744a556b646c5454553054486c724b3030394969776951324a56643035544e6e6c6e56444a5253317072643249765758707a6479747062574a7250534973496b4a344b325a585a6b7852536c68585454464e53305a495a54567a4e6d67355545644b565430694c434a425a336c4664325a4955306c43656c6c744d336c725457517a53304653647a645259304539496c3073496e6b694f694a46596b4a325a544a4265444a484e336b7a62564e715548557961305a4d52454a6a4f586339496e303d"
	],
	"id": 69
}'
```
---
#### gpsw06_decrypt
Decrypt ciphertext with private key, if the attributes in the ciphertext satisfies the access structure in the private key.
##### Parameters
1. `String` - Ciphertext
2. `String` - Private key
##### Returns
`String` - Plaintext message, Hex-encoded.
##### Example
```bash
curl -X POST \
  http://192.168.7.106:8545 \
  -H 'Content-Type: application/json' \
  -d '{
	"jsonrpc": "2.0",
	"method": "gpsw06_decrypt",
	"params": [
		"0x7b22686561646572223a22307836353739346137343633333236333639346636393461343435343437333134343539353734393330353736623532333635323330353636623537366436383666353133333634373935613333343235303634333236343432346435353331353835343333343636663464366537303536363433303663343936343330353635333632373937343465356136643465346635343662353234363539366434613530346634353461343335613436346535303634376134363663346634373339353535363332353634383534366433353332363336623734353736353534353637393462376134323437356133303532353836343534366237393632366535613435363535383461333035343332366335613533343337343538363136623335343635313331343937613537353634643335356133323461353234633331366337343632333234363538353636643730373136333664366334613535343736333761353235363432343235323533373333313633353435613464353136623465366136313435363833323633353836383561353135353532373335343663356135363633376134613638353936613663353235393330373434333532343535613737353335363535333134653538343537373465343637303464363333313436353136343330346136613632343533353631363233323663366436313536353533343537353734353334353436653561353336323536363833363632343337343330363334363531373634653661366334323533353536663334356134343465356134643535366233353633333035363533363435383532343734653536343233333539366336343465353936393734333335313662363434653632366436343531353433313730343735343537353636643536366135363435363335353536353734663538353533323466343834363739353734373436373734663534366335313633343636383438363436623634353935353535363836663533366334363434363335343561373536313535343933333531363937333737353735373663343835333536343637373633343733313461353436643561366135323537366335393633353736383465363135383436346535323331363733353561353533313639353736623638366235353535373834613632353533313732353536653432373834643535363435383631353334393733343936643436333036343438346137613439366137303337343936613431363934663639346134353534343534363536363133323339333636323534356133353634333035613435346435383531373836353438353633333533343834613661346535373335353535363761353234663633353834393334346535383536366635393536346134343633343836633538363336613461373035333534353234633532333036343433353936633535373735613663343636663633366235363330363434373536356136323662346433323632366433353738363334383561346336343536346537383631343736333330353434363634353536353662346537313532366435363332346533333634376136353535363837393539366436623732353633303666373935613434353634323532353536383435353333313465353234663434333036393463343334393738343936613666363935313761346533303531353634363561363435373634343736313661353634633531363937343537346433323465343435363330353636643534366334613537363436653536346135363437333136393466353537373761363536623638366434633332353533343561353834323539353935383730353535353661346534393463333035613739346433313461333435333535373435353634353634313331353535363730353235363662343634343531353534613438363535353461333334653437373034363464353637303664353235383532343336353662373035383534366237343665353534373461363935363437366334383532366436343330363237613465353936343438343537363537366435613536363135373464333934393639373736393464373934393336343936623633333435353533373434623534353434653331353637393734343335353536356137303531333037383462353937613634366635353435356137393634366335363462353135373465366635363537363733313532366436373737363436643738333636353538366637373561353735323734346534353638343334653332333937393561343734653464353533303663346635323330353137373635353435363463353633323536373235333331356137323561333233343331353434383431373635393332363436653464353436623737353236643730363836353438353234623531333136633439353234383461353334663537363434623464366433313433356134373338376135363437363835313537366237343665353035333439373334393661353536393466363934613435346533303733373835393535346537613533343634323661363134353536333636343663353235373635343434323666353333303461366636343437366333333561343836343461353133333532353435353538363733313561373933393436363133323536366535333438343233323532353533393666353435353335373634643332353237373466343736343731353935343662376135353761363835303537353836383732356135373663373534663538353235363464353634613462363134363662373836323537346135303532333035393738346433323465353735613436353637363536343737303433356134363536373436333665373036653631366335613736353234363663346535353534353233333466343433303639346334333439333234393661366636393533343537303437363134383666333236323438366333353632353537303533363336643339353636333435333037613633353834653666363536633638353236333332363834613537343435323739353635373738333036353664343637323464343734643732363535363536373236313535333033303531333134653666363333333464333234643437373835323535343634613733353336633663346535393662356134613539366535613638356135373436363936323434346533363464333233353463363234373734353236343332346134363537353737303437353135343439373835613639373436633633366334653662353935363432373034633333373034343466343835363631353233323737333535343664333833393439363937373639346635333439333634393662363434333533366435363535363233303461353335353662366336653535343536663330356136653439373236333331353137373635366435363336353734363536373634653437343537383535366534643761363235343435333435373435333935343635343635363631353133323663373236343535333133353539366535613466353537613561343936353535373033323534353636343761353736623330333036313761353533333532343737383730353636393734373135613330353133353535333134653662353533313461366635313535346537373531366435323732353533323439333436343330366334663634353636383432353137613461353835313537363834333534353436343662353536653535373735303533346133393636353133643364222c22626f6479223a223078343837636538336330363561323731346538633864323363333431303363386463356133663562636137336133313264356436653232663136343732227d",
		"0x65794a306558426c496a6f6963484a70646d46305a534973496d51694f6e73694d434936496b527464566b72535452754d32593154484e33624856424b31637657584e5a525764444f466c53537a464756324a6a544859304c336c79646e464c59573153516d747354484a4c647a3039496977694d534936496b52596554417a6544644a4d6a5269617a42706245526b54546c4e62586c335757684d4e465a795a576c30616e5a5455464e4355325248654468325a6c5672595735695131644b647a3039496977694d794936496b4e79516a6c446245597a5154565559555261546b49315332563256575252645442544e457846564764715532463261314a7a56326f3456484e6a5447466a5556564f596b63785a7a3039496977694e434936496b647263564130546a6c6e5a4768795a6b5a754d4670455a4446315a474e5a56585a574d476c6856557057526974486258423355315a74637a6c6d567a684f61566877545563765a7a3039496977694e534936496b646965564e7655557845566d5135647a4a36566c643254484259543364355a6b4a3359304a4864533946615538335933566c5558464662585a6c656a4e4952336f334d336c4b55543039496977694f434936496b64685a3346504e487031536a646a59544e4c51576834556c525551554a554e6a593263304e4d55546b795a31644a5233463457474a6e4d32467751585a79567a465354455a61647a3039496e3073496e52795a5755694f694a6c655570755756685362456c716233644d513070715955647363317049536d786961556b32567a4e7a61566f79526a426155306b3254564e3361566b796148426952314a35576c6330615539736444644a625559775a45684a61553971516a6c4d53484e70575668534d474e7053545a4e5744466b5a6c4e344e306c745a47686b523156705432704663306c74546d3968563368725932315764556c7163474a6c6555706f5a45685365556c716233706d55336733535731474d47524953576c50616c49355746677763325635536d355a57464a735357707665457844536d70685232787a576b684b62474a7053545a584d334e70575668534d474e7053545a4f5744427a5a586c4b61475249556e6c4a616d38305a6c59784f5668594d44306966513d3d"
	],
	"id": 70
}'
```
